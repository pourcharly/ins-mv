{"version":3,"sources":["./src/app/pages/playground/playground.component.ts","./src/app/pages/playground/playground.component.html","./src/app/components/dice/dice.component.ts","./src/app/components/dice/dice.component.html","./src/environments/environment.ts","./src/app/helpers/auth.guard.ts","./src/app/sections/player-list/player-list.component.ts","./src/app/sections/player-list/player-list.component.html","./src/app/pipes/linkify.pipe.ts","./src/app/components/dice-roll/dice-roll.component.ts","./src/app/components/dice-roll/dice-roll.component.html","./src/app/components/player/player.component.ts","./src/app/components/player/player.component.html","./src/app/services/player.service.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/pipes/thumb.pipe.ts","./src/app/sections/character-sheet/character-sheet.component.ts","./src/app/sections/character-sheet/character-sheet.component.html","./src/app/components/icon/icon.component.ts","./src/app/components/icon/icon.component.html","./src/app/pages/authentication/authentication.component.ts","./src/app/pages/authentication/authentication.component.html","./src/app/app.module.ts","./src/app/classes/player.ts","./src/app/helpers/jwt.interceptor.ts","./src/app/components/avatar/avatar.component.ts","./src/app/components/avatar/avatar.component.html","./src/app/services/auth.service.ts","./src/app/sections/chat/components/message-item/message-item.component.ts","./src/app/sections/chat/components/message-item/message-item.component.html","./src/app/services/chat.service.ts","./src/app/app-routing.module.ts","./src/app/services/dice.service.ts","./src/app/services/character.service.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object","./src/app/sections/chat/chat.component.ts","./src/app/sections/chat/chat.component.html"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\nimport { filter, switchMap, tap } from 'rxjs/operators';\nimport { Player } from 'src/app/classes/player';\nimport { PlayerService } from 'src/app/services/player.service';\nimport { CharacterService } from '../../services/character.service';\n\n@Component({\n    selector: 'ins-playground',\n    templateUrl: './playground.component.html',\n    styleUrls: ['./playground.component.scss']\n})\nexport class PlaygroundComponent {\n    data: any;\n    selectedPlayer: Player;\n    \n    constructor(private playerService: PlayerService,private charService: CharacterService) {\n        this.playerService.localPlayer.pipe(\n            filter(player => !!player && !player.isMJ),\n            switchMap(() => this.charService.getData())\n        ).subscribe(data => {\n            this.data = data;\n        });\n    }\n\n}\n","<ins-player-list (selectPlayer)=\"selectedPlayer = $event\"></ins-player-list>\n\n<ins-chat></ins-chat>\n\n<ins-character-sheet\n    [data]=\"selectedPlayer ? selectedPlayer.sheet : data\"\n></ins-character-sheet>\n\n<!--<ins-character-sheet\n    [data]=\"data\"\n    class=\"full-width\"\n    style=\"max-width: 800px;\"\n></ins-character-sheet>-->","import { Component, Input } from '@angular/core';\n\n@Component({\n    selector: 'ins-dice',\n    templateUrl: './dice.component.html',\n    styleUrls: ['./dice.component.scss']\n})\nexport class DiceComponent {\n    @Input() value: number;\n\n    constructor() { }\n}\n","\n<ng-container [ngSwitch]=\"value\">\n    <ng-container *ngSwitchCase=\"1\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 432 432\">\n            <rect width=\"432\" height=\"432\" rx=\"71.62\"/>\n            <circle class=\"cls-1\" cx=\"216\" cy=\"216\" r=\"46\"/>\n        </svg>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"2\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 432 432\">\n            <rect width=\"432\" height=\"432\" rx=\"71.62\"/>\n            <circle class=\"cirle\" cx=\"118\" cy=\"118\" r=\"46\"/>\n            <circle class=\"cirle\" cx=\"314\" cy=\"315\" r=\"46\"/>\n        </svg>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"3\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 432 432\">\n            <rect width=\"432\" height=\"432\" rx=\"71.62\"/>\n            <circle class=\"circle\" cx=\"314\" cy=\"118\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"118\" cy=\"315\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"216\" cy=\"216\" r=\"46\"/>\n        </svg>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"4\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 432 432\">\n            <rect width=\"432\" height=\"432\" rx=\"71.62\"/>\n            <circle class=\"circle\" cx=\"118\" cy=\"118\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"314\" cy=\"118\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"314\" cy=\"315\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"118\" cy=\"315\" r=\"46\"/>\n        </svg>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"5\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 432 432\">\n            <rect width=\"432\" height=\"432\" rx=\"71.62\"/>\n            <circle class=\"circle\" cx=\"118\" cy=\"118\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"314\" cy=\"118\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"314\" cy=\"315\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"118\" cy=\"315\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"216\" cy=\"216\" r=\"46\"/>\n        </svg>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"6\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 432 432\">\n            <rect width=\"432\" height=\"432\" rx=\"71.62\"/>\n            <circle class=\"circle\" cx=\"138\" cy=\"97\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"293\" cy=\"97\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"293\" cy=\"335\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"138\" cy=\"335\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"293\" cy=\"216\" r=\"46\"/>\n            <circle class=\"circle\" cx=\"138\" cy=\"216\" r=\"46\"/>\n        </svg>\n    </ng-container>\n</ng-container>","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n    production: false,\n    apiUrl: 'https://ins-mv.dev/api/'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { JwtInterceptor } from './jwt.interceptor';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n\n    constructor(\n        private router: Router,\n        private jwtInterceptor: JwtInterceptor\n    ) {}\n\n    canActivate(\n        next: ActivatedRouteSnapshot,\n        state: RouterStateSnapshot\n    ): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n        const isLoggedIn = this.jwtInterceptor.isLoggin();\n\n        if (!isLoggedIn) {\n            this.router.navigate([ '/']);\n        }\n\n        return !!isLoggedIn;\n    }\n  \n}\n","import { Component, EventEmitter, Output } from '@angular/core';\nimport { Player } from 'src/app/classes/player';\nimport { PlayerService } from 'src/app/services/player.service';\n\n@Component({\n    selector: 'ins-player-list',\n    templateUrl: './player-list.component.html',\n    styleUrls: ['./player-list.component.scss']\n})\nexport class PlayerListComponent {\n    isMJ = false;\n    selectedPlayer: Player;\n    @Output() selectPlayer = new EventEmitter<Player>();\n    \n    constructor(public playerService: PlayerService) {\n        this.playerService.localPlayer.subscribe(player => {\n            if (player) {\n                this.isMJ = player.isMJ;\n            }\n        });\n    }\n\n    select(player: Player) {\n        if (this.isMJ) {\n            this.selectedPlayer = player;\n            this.selectPlayer.emit(player);\n        }\n    }\n}\n","<ul>\n    <li *ngFor=\"let player of (playerService.list | async)\" [class.selected]=\"player === selectedPlayer\" (click)=\"this.select(player)\">\n        <ins-player [player]=\"player\"></ins-player>\n    </li>\n</ul>","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({\n    name: 'linkify'\n})\nexport class LinkifyPipe implements PipeTransform {\n\n    constructor(private domSanitizer: DomSanitizer) { }\n\n    transform(value: string, ...args: unknown[]): string {\n        const html = value.replace(/(http(?:s)?:\\/\\/\\S+)/g, '<a href=\"$1\" target=\"_blank\">$1</a>');\n\n        return this.domSanitizer.bypassSecurityTrustHtml(html) as any as string;\n    }\n\n}\n","import { Component, HostBinding, Input } from '@angular/core';\nimport { interval, merge, Subject, timer } from 'rxjs';\nimport { map, tap } from 'rxjs/operators';\n\n@Component({\n    selector: 'ins-dice-roll',\n    templateUrl: './dice-roll.component.html',\n    styleUrls: ['./dice-roll.component.scss']\n})\nexport class DiceRollComponent {\n    private _rolling = true;\n    result = new Subject<number[]>();\n    @Input() dices: number[];\n    @HostBinding('class.critical') get isCritical() {\n        return !this._rolling && this.dices.join('') === '666';\n    }\n\n    constructor() {\n        let count = 3;\n\n        const sub = interval(50).pipe(\n            map(() => this.roll(count))\n        ).subscribe((result) => {\n            this.result.next([ ...this.dices.slice(0, 3 - count), ...result ])\n        });\n\n        sub.add(\n            timer(2000, 500).subscribe(() => {\n                --count;\n\n                if (!count) {\n                    sub.unsubscribe();\n                    this.result.next(this.dices);\n                    this._rolling = false;\n                }\n            })\n        );\n    }\n\n    private roll(nbDice: number, diceValue = 6) {\n        return Array.from(new Array(nbDice)).map(() => Math.round(Math.random() * diceValue + .5));\n    }\n\n    isMin(diceIndex: number) {\n        if (!this._rolling) {\n            let min = this.dices.reduce((min, value) => value < min ? value : min, 6);\n            return diceIndex === this.dices.findIndex(value => value === min);\n        }\n\n        return false;\n    }\n\n}\n","<ng-container *ngFor=\"let value of (result | async); let i = index\">\n    <ins-dice [value]=\"value\" [class.min]=\"isMin(i)\"></ins-dice>\n</ng-container>","import { Component, Input} from '@angular/core';\nimport { Player } from 'src/app/classes/player';\n\n@Component({\n    selector: 'ins-player',\n    templateUrl: './player.component.html',\n    styleUrls: ['./player.component.scss']\n})\nexport class PlayerComponent {\n    @Input() player: Player;\n\n    constructor() { }\n\n}\n","\n<div class=\"color-{{ player.color }}\">\n    <ins-avatar [player]=\"player\"></ins-avatar>\n    <span class=\"characname text-allipsis\">{{ player.isMJ ? 'MJ' : player.charname }}</span>\n    <span class=\"username text-allipsis\">({{ player.username }})</span>\n</div>","import { Injectable } from '@angular/core';\nimport { Socket } from 'ngx-socket-io';\nimport { BehaviorSubject } from 'rxjs';\nimport { Player } from '../classes/player';\nimport { PlayerModel } from '../models/player-model';\nimport { CharacterService } from './character.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PlayerService {\n    private _list = new BehaviorSubject<Player[]>([]);\n    private _localPlayer = new BehaviorSubject<Player>(null);\n    localPlayer = this._localPlayer.asObservable();\n    list = this._list.asObservable();\n\n    constructor(private socket: Socket, private characterService: CharacterService) {\n        this.socket.on('playerList', (playerDataList: PlayerModel[]) => {\n            const playerList = playerDataList.map(playerData => new Player(playerData));\n\n            this._list.next(playerList);\n            playerList.forEach(player => {\n                this.associateCharacterToPlayer(player);\n            });\n            this._localPlayer.next(this.getPlayer(this.socket.ioSocket.id));\n        });\n\n        this.socket.on('playerConnect', (playerData: PlayerModel) => {\n            const player = new Player(playerData);\n            const list = player.isMJ ? [ player, ...this._list.value] : [ ...this._list.value, player];\n\n            this._list.next(list);\n            this.associateCharacterToPlayer(player);\n        });\n\n        this.socket.on('playerDisconnect', (socketId) => {\n            const list = [...this._list.value];\n            this._list.next(this._list.value.filter(player => player.id !== socketId));\n        });\n    }\n\n    getLocalPlayer() {\n        return this._localPlayer.value;\n    }\n\n    getPlayer(socketId: string) {\n        return this._list.value.find(player => player.id === socketId);\n    }\n\n    associateCharacterToPlayer(player: Player) {\n        if (!player.isMJ) {\n            this.characterService.getData(player.sheetId).subscribe(sheet => {\n                player.associateSheet(sheet);\n            });\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { PlayerService } from './services/player.service';\n\n\n@Component({\n    selector: 'ins-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n\n    constructor(public playerService: PlayerService) {}\n}\n","<div class=\"color-{{ (playerService.localPlayer | async)?.color }}\">\n    <router-outlet></router-outlet>\n</div>","import { Pipe, PipeTransform, SecurityContext } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({\n    name: 'thumb'\n})\nexport class ThumbPipe implements PipeTransform {\n\n    constructor(private domSanitizer: DomSanitizer) { }\n\n    transform(value: string, ...args: unknown[]) {\n        value = this.domSanitizer.sanitize(SecurityContext.HTML, value);\n        \n        const imgs = value\n            .replace(/<[^<>]+>/g, '')\n            .match(/(http(?:s)?:\\/\\/\\S+)/g)\n            ?.filter(url => ['jpg', 'jpeg', 'gif', 'png', 'svg'].includes(this.getExtension(url)))\n            ?.map(url => this.urlToImg(url))\n            ?.join('');\n\n        return this.domSanitizer.bypassSecurityTrustHtml(value += imgs || '') as any as string;\n    }\n\n    private getExtension(url) {\n        const match = url.match(/\\.([^.#?]+)(?:\\?|#.+)?$/);\n\n        return match ? match[1].toLowerCase() : null;\n    }\n    private urlToImg(url) {\n        return `<a href=\"${url}\" target=\"_blank\"><img src=\"${url}\" /></a>`;\n    }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { CharacterService } from '../../services/character.service';\n\n@Component({\n    selector: 'ins-character-sheet',\n    templateUrl: './character-sheet.component.html',\n    styleUrls: ['./character-sheet.component.scss']\n})\nexport class CharacterSheetComponent {\n    @Input() data: any;\n\n    constructor(private service: CharacterService, private activatedRoute: ActivatedRoute) {\n        this.activatedRoute.params.subscribe((params) => {\n            const { id } = params;\n\n            if (id) {\n                this.service.getData(id).subscribe(data => this.data = data);\n            }\n        });\n    }\n}\n","<div class=\"wrapper flex-column color-black\">\n    <p *ngIf=\"!data\">\n        Pas de données pour cette fiche perso.\n    </p>\n\n    <h1 *ngIf=\"data\">\n        {{ data.name }}\n        <ng-container *ngIf=\"data.alternateName\">({{ data.alternateName }})</ng-container>\n    </h1>\n\n    <div *ngIf=\"data\" class=\"avatar\">\n        <img [src]=\"'/data/avatars/' + data.avatar\"/>\n    </div>\n\n    <section *ngIf=\"data\">\n        <label *ngIf=\"data.superior\">\n            <span>Supérieur</span>\n            <span>\n                {{ data.superior }}\n            </span>\n        </label>\n        <label *ngIf=\"data.grade\">\n            <span>Grade</span>\n            <span>\n                {{ data.grade }}\n            </span>\n        </label>\n    </section>\n\n    <div *ngIf=\"data\" class=\"flex-column full-width\">\n        <section>\n            <h2>Réserves</h2>\n            <label>\n                <span>Points de Vie max (PV)</span>\n                <span>\n                    {{ data.char.fo + data.char.vo }}\n                </span>\n            </label>\n            <label>\n                <span>Points de Pouvoir max (PP)</span>\n                <span>\n                    {{ data.char.foi + data.char.vo + 2 }}\n                </span>\n            </label>\n        </section>\n\n        <section>\n            <h2>Caractéristiques</h2>\n\n            <label>\n                <span>Force (Fo)</span>\n                <input type=\"number\" disabled min=\"1\" max=\"5\" [value]=\"data.char.fo\">\n            </label>\n            <label>\n                <span>Agilité (Ag)</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.char.ag\">\n            </label>\n            <label>\n                <span>Perception (Pe)</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.char.pe\">\n            </label>\n            <label>\n                <span>Volonté (Vo)</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.char.vo\">\n            </label>\n            <label>\n                <span>Présence (Pr)</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.char.pr\">\n            </label>\n            <label>\n                <span>Foi (Foi)</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.char.foi\">\n            </label>\n        </section>\n\n        <section>\n            <h2>Talents Principaux</h2>\n\n            <label>\n                <span>Baratin</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.mainTalents.baratin\">\n            </label>\n            <label>\n                <span>Combat</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.mainTalents.combat\">\n            </label>\n            <label>\n                <span>Corps à corps</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.mainTalents.corpsACorps\">\n            </label>\n            <label>\n                <span>Culture générale</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.mainTalents.cultureG\">\n            </label>\n            <label>\n                <span>Défense</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.mainTalents.defense\">\n            </label>\n            <label>\n                <span>Discrétion</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.mainTalents.discretion\">\n            </label>\n            <label>\n                <span>Discussion</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.mainTalents.discussion\">\n            </label>\n            <label>\n                <span>Enquête</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.mainTalents.enquete\">\n            </label>\n            <label>\n                <span>Tir</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"data.mainTalents.tir\">\n            </label>\n        </section>\n\n        <section>\n            <h2>Talents Secondaires</h2>\n\n            <label *ngFor=\"let talent of data.secondaryTalents\">\n                <span>{{ talent.label }}</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"talent.value\">\n            </label>\n        </section>\n\n        <section>\n            <h2>Talents Mineurs</h2>\n\n            <label *ngFor=\"let talent of data.minorTalents\">\n                <span>{{ talent.label | json }}</span>\n                <input type=\"number\" disabled  min=\"1\" max=\"5\" [value]=\"talent.value\">\n            </label>\n        </section>\n        \n        <section>\n            <h2>Pouvoirs</h2>\n\n            <label *ngFor=\"let power of data.powers\">\n                <span>{{ power }}</span>\n            </label>\n        </section>\n        \n        <section>\n            <h2>Inventaire</h2>\n\n            <ng-container *ngIf=\"!!data?.state?.inventory\">\n                <ng-container *ngFor=\"let bag of data.state.inventory\">\n                    <h3>{{ bag.label }}</h3>\n                    <ul>\n                        <li *ngFor=\"let item of bag.content\">\n                            {{ item }}\n                        </li>\n                    </ul>\n                </ng-container>\n            </ng-container>\n        </section>\n</div>\n","import { AfterContentChecked, Component, Input } from '@angular/core';\n\ndeclare const feather;\n\n@Component({\n    selector: 'ins-icon',\n    templateUrl: './icon.component.html',\n    styleUrls: ['./icon.component.scss']\n})\nexport class IconComponent implements AfterContentChecked {\n    @Input() name = '';\n\n    constructor() { }\n\n    ngAfterContentChecked() {\n        feather.replace();\n    }\n\n}\n","<i [attr.data-feather]=\"name\">icon {{ name }}</i>","import { HttpErrorResponse } from '@angular/common/http';\nimport { Component, OnDestroy } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { PlayerService } from 'src/app/services/player.service';\n\n@Component({\n    selector: 'ins-authentication',\n    templateUrl: './authentication.component.html',\n    styleUrls: ['./authentication.component.scss']\n})\nexport class AuthenticationComponent implements OnDestroy{\n    private subscription = new Subscription();\n    errorId = 0;\n\n    authForm = new FormGroup({\n        email: new FormControl(sessionStorage.getItem('email'), [ Validators.required, Validators.email ])\n    });\n\n    constructor(private authService: AuthService, private router: Router, private playerService: PlayerService) {}\n\n    onSubmit() {\n        if (this.authForm.valid) {\n            const email = this.authForm.value.email;\n\n            sessionStorage.setItem('email', email);\n\n            this.subscription.add(\n                this.authService.login(email).subscribe({\n                    next: (userId) => {\n                        sessionStorage.setItem('email', email);\n                        this.router.navigate([ 'game' ]);\n                    },\n                    error: (httpErrorResponse: HttpErrorResponse) => {\n                        if (httpErrorResponse.status === 401) {\n                            this.errorId = httpErrorResponse.status;\n                        }\n                    }\n                })\n            );\n        }\n    }\n\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n}\n","<img src=\"/assets/img/bg.jpg\" />\n<form [formGroup]=\"authForm\" (ngSubmit)=\"onSubmit()\">\n    <img src=\"/assets/img/logo.jpg\" />\n    <input type=\"text\" placeholder=\"adresse email\" formControlName=\"email\" autocomplete=\"email\" />\n    <p *ngIf=\"errorId === 401\" class=\"error-message\">\n        Navré,<br />\n        mais les portes du Saint Domaine de<br />\n        l'être divin vous resterons fermées à jamais.<br />\n        Vous ne poserez point votre répugnante<br />\n        patte de bête céans... enculé de fils<br />\n        de putain de démon ta race !\n    </p>\n    <button type=\"submit\">S'identifier</button>\n</form>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { SocketIoModule, SocketIoConfig } from 'ngx-socket-io';\n\nimport { CharacterSheetComponent } from './sections/character-sheet/character-sheet.component';\nimport { AuthenticationComponent } from './pages/authentication/authentication.component';\nimport { JwtInterceptor } from './helpers/jwt.interceptor';\nimport { PlaygroundComponent } from './pages/playground/playground.component';\nimport { ChatComponent } from './sections/chat/chat.component';\nimport { PlayerListComponent } from './sections/player-list/player-list.component';\nimport { IconComponent } from './components/icon/icon.component';\nimport { MessageItemComponent } from './sections/chat/components/message-item/message-item.component';\nimport { DiceComponent } from './components/dice/dice.component';\nimport { DiceRollComponent } from './components/dice-roll/dice-roll.component';\nimport { AvatarComponent } from './components/avatar/avatar.component';\nimport { PlayerComponent } from './components/player/player.component';\nimport { LinkifyPipe } from './pipes/linkify.pipe';\nimport { ThumbPipe } from './pipes/thumb.pipe';\n\nconst config: SocketIoConfig = {\n    url: '/',\n    options: {}\n};\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        CharacterSheetComponent,\n        AuthenticationComponent,\n        PlaygroundComponent,\n        ChatComponent,\n        PlayerListComponent,\n        IconComponent,\n        MessageItemComponent,\n        DiceComponent,\n        DiceRollComponent,\n        AvatarComponent,\n        PlayerComponent,\n        LinkifyPipe,\n        ThumbPipe\n    ],\n    imports: [\n        BrowserModule,\n        AppRoutingModule,\n        HttpClientModule,\n        BrowserAnimationsModule,\n        ReactiveFormsModule,\n        SocketIoModule.forRoot(config)\n    ],\n    providers: [\n        JwtInterceptor,\n        { provide: HTTP_INTERCEPTORS, useExisting: JwtInterceptor, multi: true }\n    ],\n    bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n","import { CharacterModel } from \"../models/character-model\";\nimport { PlayerModel } from \"../models/player-model\";\n\nexport class Player {\n    private _sheet: CharacterModel;\n\n    get id() {\n        return this._data.socketId;\n    }\n    get sheetId() {\n        return this._data.user.sheet;\n    }\n    get username() {\n        return this._data.user.username;\n    }\n    get charname() {\n        return this._sheet?.secretIdentity ?\n            this._sheet?.name :\n            this._sheet?.alternateName || this._sheet?.name;\n    }\n    get color() {\n        return this._data.user.color;\n    }\n    get sheet() {\n        return this._sheet;\n    }\n    get isMJ() {\n        return this._data.user.isMJ;\n    }\n\n    constructor(private _data: PlayerModel) {\n\n    }\n\n    associateSheet(sheet: CharacterModel) {\n        this._sheet = sheet;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor,\n  HttpResponse\n} from '@angular/common/http';\nimport { EMPTY, Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { Socket } from 'ngx-socket-io';\n\nconst apiUrlRegExp = /^(?:http(?:s)?\\:\\/\\/(?:www\\.)ins\\-mv\\.(?:(dev)|(fr)))?\\/api\\//;\n\n@Injectable()\nexport class JwtInterceptor implements HttpInterceptor {\n    private token: string = localStorage.getItem('jwt');\n\n    constructor(private socket: Socket) {\n        this.socket.on('disconnect', () => {\n            console.log('Serveur déconnecté');\n        });\n        this.socket.on('connect', () => {\n            if (this.token) {\n                this.socket.emit('authenticate', this.token);\n            }\n        });\n    }\n\n    \n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n        if (request.method === 'DELETE' && /auth$/.test(request.url)) {\n            console.log('logout');\n            delete this.token;\n            return EMPTY;\n        }\n\n        const isApiUrl = apiUrlRegExp.test(request.url);\n\n        if (isApiUrl && this.token) {\n            request = request.clone({\n                setHeaders: {\n                    Authorization: `Bearer ${ this.token }`\n                }\n            });\n        }\n\n        return next.handle(request).pipe(\n            tap((response: HttpResponse<any>) => {\n                if (response.status === 200 && response?.body?.token) {\n                    this.token = response.body.token;\n                    localStorage.setItem('jwt', this.token);\n                    this.socket.emit('authenticate', this.token);\n                }\n            })\n        );\n    }\n\n    isLoggin() {\n        return !!this.token;\n    }\n}\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'ins-avatar',\n    templateUrl: './avatar.component.html',\n    styleUrls: ['./avatar.component.scss']\n})\nexport class AvatarComponent implements OnInit {\n    @Input() player: any;\n    \n    constructor() { }\n\n    ngOnInit(): void {\n    }\n\n}\n","<div class=\"wrapper\">\n    <div class=\"initials absolute full-block\">\n        {{ player?.username ? player?.username?.substr(0, 2) : '?' }}\n    </div>\n    <img\n        *ngIf=\"player?.sheet?.avatar\"\n        [src]=\"'/data/avatars/' + player?.sheet?.avatar\"\n        class=\"absolute full-block\"\n    />\n</div>","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { mergeMap, tap } from 'rxjs/operators';\nimport { UserModel } from '../models/user-model';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthService {\n    user = new BehaviorSubject<UserModel>(null);\n    constructor(private http: HttpClient) { }\n\n    login(email: string) {\n        return this.http.post('/api/auth/', { email }).pipe(\n            mergeMap(token => {\n                return this.http.get('/api/user').pipe(\n                    tap(user => console.log(user)),\n                    tap((user: UserModel) => this.user.next(user))\n                )\n            })\n        );\n    }\n\n    isLoggedIn() {\n        return false;\n    }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Player } from 'src/app/classes/player';\n\n@Component({\n    selector: 'ins-message-item',\n    templateUrl: './message-item.component.html',\n    styleUrls: ['./message-item.component.scss']\n})\nexport class MessageItemComponent {\n    @Input() message: {\n        type: string,\n        content?: string,\n        result?: any\n    };\n    @Input() sender: Player;\n    \n    constructor() { }\n}\n","\n<ins-avatar class=\"avatar absolute\" [player]=\"sender\"></ins-avatar>\n\n<div class=\"author\">\n    <span class=\"charname\">{{ sender?.charname }}</span>\n    <span class=\"username\"> ({{ sender?.username }})</span>\n</div>\n\n<div *ngIf=\"message.type === 'text'\" class=\"bubble\">\n    <p [innerHTML]=\"(message?.content || '') | linkify | thumb\"></p>\n</div>\n\n<ins-dice-roll *ngIf=\"message.type === 'dice'\" [dices]=\"message.result\" class=\"flex\"></ins-dice-roll>","import { Injectable } from '@angular/core';\nimport { Socket } from 'ngx-socket-io';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { DiceService } from './dice.service';\nimport { PlayerService } from './player.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ChatService {\n    private subscription: Subscription;\n    private _stack = new BehaviorSubject([]);\n    stack = this._stack.asObservable();\n\n    constructor(\n        private socket: Socket,\n        private playerService: PlayerService,\n        private diceService: DiceService\n    ) {\n        socket.on('playerSendMessage', (senderId, content) => {\n            this.pushMessage({\n                sender: this.getSender(senderId),\n                type: 'text',\n                content\n            });\n        });\n\n        this.subscription = this.diceService.results.subscribe(result => {\n            console.log(result);\n            this.pushMessage({\n                sender: this.getSender(result.senderId),\n                type: 'dice',\n                result: result.dice\n            });\n        });\n    }\n\n    private getSender(senderId) {\n        return this.playerService.getPlayer(senderId);\n    }\n\n    private pushMessage(message) {\n        console.log('push message', message);\n        this._stack.next([ ...this._stack.value, message ]);\n    }\n\n    sendMessage(content: string) {\n        this.socket.emit('sendMessage', content, () => {\n            this.pushMessage({\n                sender: null,\n                type: 'text',\n                content\n            });\n        });\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CharacterSheetComponent } from './sections/character-sheet/character-sheet.component';\nimport { AuthGuard } from './helpers/auth.guard';\nimport { AuthenticationComponent } from './pages/authentication/authentication.component';\nimport { PlaygroundComponent } from './pages/playground/playground.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: AuthenticationComponent\n    },\n    {\n        path: 'test',\n        component: PlaygroundComponent\n    },\n    {\n        path: 'game',\n        canActivate: [ AuthGuard ],\n        component: PlaygroundComponent\n    },\n    {\n        path: 'fiche-perso/:id',\n        component: CharacterSheetComponent\n    },\n    { path: '**', redirectTo: '/' }\n];\n\n@NgModule({\n    imports: [RouterModule.forRoot(routes)],\n    exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Injectable } from '@angular/core';\nimport { Socket } from 'ngx-socket-io';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class DiceService {\n    private _results = new Subject<any>();\n    results = this._results.asObservable();\n\n    constructor(private socket: Socket) {\n        this.socket.on('playerRollDice', (senderId, dice) => {\n            this._results.next({ senderId, dice });\n        });\n    }\n\n    roll() {\n        this.socket.emit('rollDice', 3, 6, (dice) => {\n            this._results.next({ dice });\n        });\n    }\n}","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Socket } from 'ngx-socket-io';\nimport { Observable } from 'rxjs';\nimport { CharacterModel } from '../models/character-model';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CharacterService {\n\n    constructor(private http: HttpClient, private socket: Socket) {\n        this.socket.emit('chatMessage', 'test');\n    }\n\n    getData(username?: string): Observable<any> {\n        if (username) {\n            return this.http.get<CharacterModel>(`/data/${ username }.json`);\n        }\n\n        return this.http.get<CharacterModel>('/api/sheet')\n    }\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";","import { ChangeDetectorRef, Component, ElementRef, OnDestroy, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { ChatService } from 'src/app/services/chat.service';\nimport { DiceService } from 'src/app/services/dice.service';\nimport { PlayerService } from 'src/app/services/player.service';\n\n@Component({\n    selector: 'ins-chat',\n    templateUrl: './chat.component.html',\n    styleUrls: ['./chat.component.scss']\n})\nexport class ChatComponent implements OnDestroy {\n    private subscription: Subscription;\n    messageList = [];\n    player;\n    form: FormGroup;\n\n    lastUpdateLength = 0;\n    private isInit = false;\n    @ViewChild('scrollable') scrollable: ElementRef;\n\n    constructor(private chatService: ChatService,\n        public dices: DiceService,\n        public playerService: PlayerService,\n        private formBuilder: FormBuilder,\n        public elementRef: ElementRef<HTMLHtmlElement>,\n        private cd: ChangeDetectorRef\n    ) {\n        this.subscription = this.chatService.stack.subscribe(messageList => this.onMessageListUpdate(messageList));\n\n        this.form = this.formBuilder.group({\n            message: this.formBuilder.control('', Validators.required)\n        });\n    }\n\n    onSubmit() {\n        const value = this.form.get('message').value.trim();\n\n        if (value) {\n            this.form.get('message').setValue('');\n            this.chatService.sendMessage(value);\n        }\n    }\n\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n\n    ngAfterViewChecked() {\n        if (this.messageList.length > this.lastUpdateLength) {\n            const force = this.messageList[this.messageList.length - 1].isLocal;\n\n            this.lastUpdateLength = this.messageList.length;\n            this.scrollToBottom(force);\n            this.isInit = true;\n        }\n    }\n\n    private onMessageListUpdate(list) {\n        this.messageList = list;\n        this.cd.markForCheck();\n    }\n\n    private scrollToBottom(force = false): void {\n        const nativeEl = this.scrollable.nativeElement;\n        const children = nativeEl.children;\n        const scrollTopMax = nativeEl.scrollHeight - nativeEl.offsetHeight;\n        const currentScrollTop = nativeEl.scrollTop;\n\n        if (children.length > 1) {\n            const lastMessageEl = children[children.length - 1] as HTMLHtmlElement;\n            const beforeLastMessageEl = children[children.length - 2] as HTMLHtmlElement;\n            const lastMessageHeight = (lastMessageEl.offsetHeight + lastMessageEl.offsetTop) -\n                (beforeLastMessageEl.offsetHeight + beforeLastMessageEl.offsetTop);\n\n            if (force || !this.isInit || lastMessageHeight + 200 >= scrollTopMax - currentScrollTop) {\n                try {\n                    nativeEl.scrollTop = nativeEl.scrollHeight;\n                } catch (err) { }\n            }\n        }\n    }\n}\n","<div #scrollable class=\"message-space\">\n    <ins-message-item *ngFor=\"let message of messageList;\"\n        [message]=\"message\"\n        [class.me]=\"!message?.sender\"\n        [sender]=\"message?.sender || playerService.getLocalPlayer()\"\n    ></ins-message-item>\n</div>\n\n<form [formGroup]=\"form\" class=\"message-form\" (ngSubmit)=\"onSubmit()\">\n    <input formControlName=\"message\" class=\"message-input\" type=\"text\" placeholder=\"Message...\" value=\"\" />\n\n    <button class=\"send-button round-button\" type=\"submit\" title=\"Envoyer\">\n        <ins-icon name=\"send\"></ins-icon>\n    </button>\n\n    <button class=\"dice-button round-button\" type=\"submit\" title=\"Lancer les dés\" (click)=\"dices.roll()\">\n        <img src=\"/assets/img/dice-fire.svg\"/>\n    </button>\n</form>\n"],"sourceRoot":"webpack:///"}